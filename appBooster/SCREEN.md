# Скриншоты работающего приложения

## 1. Получение экспериментов через API

![Получить эксперимент](screens/получить%20эксперимент.png)

Запрос к API для получения экспериментов для устройства.

**Запрос:**
```bash
GET http://127.0.0.1:8000/api/v1/experiments
Headers: Device-Token: test-device-123
```

**Ответ:**
```json
{
  "button_color": "#FF0000",
  "price": "10"
}
```

**Что видно на скриншоте:**
- Запрос выполнен успешно (Status 200 OK)
- Устройство получило значения для обоих экспериментов
- `button_color: #FF0000` (красный цвет)
- `price: 10` (цена 10)

---

## 2. Статистика в формате JSON

![Статистика JSON](screens/статистика%20json.png)

Статистика по экспериментам в формате JSON через API.

**Запрос:**
```bash
GET http://127.0.0.1:8000/api/v1/statistics
```

**Что видно на скриншоте:**
- Статистика по эксперименту `button_color`
- Общее количество устройств
- Распределение по опциям с количеством и процентами
- Статистика по эксперименту `price`
- Ожидаемые веса и фактические проценты

---

## 3. Страница статистики (HTML) - вид 1

![Статистика HTML](screens/статистика%20html.png)

HTML страница со статистикой по экспериментам.

**URL:**
```
http://127.0.0.1:8000/statistics
```

**Что видно на скриншоте:**
- Таблица со статистикой по эксперименту `button_color`
- Показаны все опции: `#FF0000`, `#00FF00`, `#0000FF`
- Количество устройств для каждой опции
- Ожидаемые веса (33%, 33%, 34%)
- Фактические проценты распределения
- Общее количество устройств в эксперименте

---

## 4. Страница статистики (HTML) - вид 2

![Статистика HTML 2](screens/статистика%20html2.png)

Дополнительный вид страницы статистики с данными по эксперименту `price`.

**Что видно на скриншоте:**
- Статистика по эксперименту `price`
- Распределение по ценам: 10, 20, 50, 5
- Ожидаемые веса: 75%, 10%, 5%, 10%
- Фактические проценты распределения
- Общее количество устройств

---

## Проверка работы

### Запуск приложения

```bash
cd appBooster
source venv/bin/activate
DATABASE_URL=sqlite:///./abtesting.db uvicorn cmd.server.main:app --host 127.0.0.1 --port 8000
```

### Тестирование API

```bash
# Получение экспериментов
curl -H "Device-Token: test-device" http://127.0.0.1:8000/api/v1/experiments

# Получение статистики
curl http://127.0.0.1:8000/api/v1/statistics
```

### Открытие страницы статистики

```
http://127.0.0.1:8000/statistics
```

## Проверка функциональности

Откройте приложение и проверьте, что:
- ✅ API возвращает эксперименты для устройства
- ✅ Одно устройство всегда получает одинаковые значения
- ✅ Статистика отображается корректно в JSON и HTML форматах
- ✅ Распределение соответствует заданным весам
- ✅ Таблица статистики показывает все эксперименты

## Тестирование

```bash
pytest
```

Все тесты проходят успешно.
